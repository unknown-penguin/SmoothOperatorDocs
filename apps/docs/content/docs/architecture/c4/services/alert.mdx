---
title: alert
description: Component diagram for the Alert Service.
---

## Alert Service â€” Components

<Diagram lang="mermaid" chart={`
flowchart TD
  %% ============================================
  %% Alert Service Components (.NET)
  %% ============================================

  subgraph Alert["ðŸš¨ Alert Service (.NET)"]
    direction TB

    subgraph Input["ðŸ“¥ Inputs"]
      ConsEnriched["Kafka Consumer\nenriched.v1"]
      Rules["Rules Store\nthresholds, windows\nper team/car"]
    end

    subgraph Engine["ðŸ§  Evaluation Engine"]
      WindowAgg["Window Aggregator\nsliding/tumbling windows"]
      Conditions["Condition Evaluator\nthresholds, diffs, trends"]
      Dedup["Deduplicator\nsuppress duplicates"]
      Escalation["Escalation Policy\nlevels, cooldowns"]
    end

    subgraph Outputs["ðŸ“¤ Notifiers"]
      UINotify["UI Push\nvia Realtime Gateway"]
      Webhooks["Webhooks\ncustom receivers"]
      Pager["PagerDuty/Slack\nops channels"]
    end

    subgraph Guard["ðŸ›¡ï¸ Resilience"]
      CB["Circuit Breakers\nKafka/RT/HTTP"]
      Rate["Rate Limiter\nper recipient"]
    end

    subgraph Obs["ðŸ“Š Observability"]
      Metrics["Prometheus\nalerts/sec, drops"]
      Logs["Serilog â†’ Loki"]
      Health["/health, /ready"]
    end
  end

  Kafka["ðŸ”€ Kafka (infra)"]
  RT["âš¡ Realtime Gateway"]
  UI["ðŸ–¥ï¸ Frontend"]

  %% Flows
  Kafka --> ConsEnriched
  ConsEnriched --> WindowAgg --> Conditions --> Dedup --> Escalation

  Escalation --> UINotify --> RT --> UI
  Escalation --> Webhooks
  Escalation --> Pager

  UINotify --> Rate
  Webhooks --> Rate
  Pager --> Rate
  Rate --> CB

  %% Observability
  Conditions -.-> Metrics
  UINotify -.-> Metrics
  Health -.-> Kafka

  %% Styling
  classDef dotnet fill:#8b5cf6,stroke:#5b21b6,color:#ffffff;
  classDef resilience fill:#ef4444,stroke:#dc2626,color:#ffffff;
  classDef infra fill:#374151,stroke:#111827,color:#ffffff;
  classDef external fill:#6b7280,stroke:#374151,color:#ffffff;

  class Alert,Input,Engine,Outputs,UINotify,Webhooks,Pager,Guard,CB,Rate,Obs,Metrics,Logs,Health dotnet;
  class Kafka infra;
  class RT,UI external;

  `} />

Notes: rule definitions stored separately; supports external webhook and internal UI notifications.
